{{template "layout" .}}

{{define "content"}}
<div class="feed-container">
    <div class="feed-header">
        <h1>Activity Feed</h1>
        <button class="btn-primary" onclick="createExpression()">Create Expression</button>
    </div>
    
    <div class="feed-content">
        <div class="feed-sidebar">
            <div class="user-info">
                <div id="walletAddress"></div>
                <div id="networkInfo"></div>
            </div>
            <div class="feed-filters">
                <h3>Filters</h3>
                <div class="filter-group">
                    <label>Sort by</label>
                    <select id="sortFilter">
                        <option value="recent">Most Recent</option>
                        <option value="popular">Most Popular</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="feed-main">
            {{if .Activities}}
                {{range .Activities}}
                <div class="feed-item">
                    <div class="feed-item-header">
                        <div class="user-info">
                            <span class="user-address">{{.UserAddress}}</span>
                            <span class="timestamp">{{.Timestamp}}</span>
                        </div>
                        <div class="item-actions">
                            <button class="btn-share">Share</button>
                        </div>
                    </div>
                    <div class="feed-item-content">
                        {{.Content}}
                    </div>
                    <div class="feed-item-footer">
                        <button class="btn-acknowledge" onclick="acknowledgeExpression('{{.ID}}')">
                            <span class="icon">üëç</span> Acknowledge
                        </button>
                        <span class="acknowledgement-count">{{.AcknowledgementCount}} acknowledgements</span>
                    </div>
                </div>
                {{end}}
            {{else}}
                <div class="empty-feed">
                    <div class="empty-state">
                        <h2>No Expressions Yet</h2>
                        <p>Be the first to share an expression of peace!</p>
                        <button class="btn-primary" onclick="createExpression()">Create Expression</button>
                    </div>
                </div>
            {{end}}
        </div>
    </div>
</div>

<style>
.feed-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.feed-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
}

.feed-content {
    display: grid;
    grid-template-columns: 250px 1fr;
    gap: 30px;
}

.feed-sidebar {
    position: sticky;
    top: 20px;
}

.user-info {
    background: #f5f5f5;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.feed-filters {
    background: white;
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 15px;
}

.filter-group {
    margin-top: 10px;
}

.filter-group label {
    display: block;
    margin-bottom: 5px;
    color: #666;
}

.filter-group select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.feed-item {
    background: white;
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.feed-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.user-address {
    font-weight: 500;
    color: #333;
}

.timestamp {
    font-size: 0.9em;
    color: #666;
    margin-left: 10px;
}

.feed-item-content {
    margin-bottom: 15px;
    line-height: 1.5;
}

.feed-item-footer {
    display: flex;
    align-items: center;
    gap: 15px;
}

.btn-acknowledge {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 8px 16px;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.btn-acknowledge:hover {
    background: #43A047;
}

.btn-share {
    padding: 6px 12px;
    background: #2196F3;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.btn-share:hover {
    background: #1E88E5;
}

.acknowledgement-count {
    color: #666;
    font-size: 0.9em;
}

.empty-feed {
    text-align: center;
    padding: 60px 20px;
}

.empty-state {
    max-width: 400px;
    margin: 0 auto;
}

.empty-state h2 {
    margin-bottom: 10px;
    color: #333;
}

.empty-state p {
    color: #666;
    margin-bottom: 20px;
}

.btn-primary {
    padding: 10px 20px;
    background: #2196F3;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1em;
    transition: background-color 0.2s;
}

.btn-primary:hover {
    background: #1E88E5;
}

@media (max-width: 768px) {
    .feed-content {
        grid-template-columns: 1fr;
    }

    .feed-sidebar {
        position: static;
        margin-bottom: 20px;
    }
}
</style>

<script>
function createExpression() {
    // TODO: Implement expression creation
    console.log('Creating new expression...');
}

function acknowledgeExpression(expressionId) {
    // TODO: Implement acknowledgement
    console.log('Acknowledging expression:', expressionId);
}
</script>
{{end}} 